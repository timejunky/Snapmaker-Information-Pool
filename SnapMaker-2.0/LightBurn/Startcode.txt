; Startcode:

; source: First version from https://forum.snapmaker.com/t/full-lightburn-control-guide/27638
;         by Skreelink
; Update: timeJunky - 04.12.2023 Extended and commented
; see gcode reference guide for SnapMaker https://snapmaker.github.io/Documentation/gcode/G000-G001

;
; General I
; ;;;;;;;;
; This line is spit out by Luban and Snapmaker settings in Lightburn, so I include it.

M106 P0 S255
; Safety home, in case you forgot after power on.
G28
; Changes to Machine Coords.
G53

;
; Section for 10W Laser
; ;;;;;;;;

; !!! Attention test yourself your Z value by own calibration!
; IMPORTANT, the Z value here is your LASER HEIGHT on the touchscreen.
; Taking over the Z value without verification may lead to harm seriosly your rails or yor bed!!!
; uncomment below if you have the 10W Module
; comment out or in
; G0 Z23 F6000

;
; Section I for 20W/40W Laser
; ;;;;;;;;

; !!! Attention test yourself your Z value by own calibration!
; IMPORTANT, the Z value here is your LASER HEIGHT on the touchscreen.
; Taking over the Z value without verification may lead to harm seriosly your rails or yor bed!!!
; uncomment below if you have the 10W Module
; comment out or in
G0 Z83.9 F6000

;
; General II
; ;;;;;;;;

; Changes back to Work Coords
G54
; This sets Z Work Origin to 0, making your laser height as 0.
G92 Z0
; Moves the toolhead back up out of the way.
G0 Z300
; Back to machine coords!
G53
; IMPORTANT, this is the offset you found following my laser guide!
G0 X2 Y0 F6000
; Oops, weâ€™re back in work coords.
G54
; Yep, we gotta set 0,0 on X,Y as well!
G92 X0 Y0
; This is a safety line, it brings the laser online at 0 power, basically a ready state.

M3 S0
; Light to 50%
M1010 S3 P50

; !!! Attention: uncomment door sensor at own risc !!!
; door sensor off
M1010 S0

; Fan Air to 100%
M1010 S4 P100

; see AirPurifier gcode: https://snapmaker.github.io/Documentation/gcode/M1011M1011 ; choose between F1, F2, F3 gear working
; M1011 F3; Air Purifier on
; M1011 F3 S1

;
; Section II for 20W/40W Laser
; ;;;;;;;;

; Air Assist ON (M7, M8 both works)
;M7
M8

; CrossHair Pointer off
M2002 T3 P0